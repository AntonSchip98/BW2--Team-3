<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css" />
    <link
      rel="stylesheet"
      href="./node_modules/bootstrap-icons/font/bootstrap-icons.min.css"
    />
  </head>
  <body>
    <div id="full-window" class="container-fluid">
      <div class="row flex-column">
        <div id="three-column" class="col-12">
          <div class="row">
            <div class="col-2">
              <div class="row flex-column">
                <div
                  class="col-12 position-sticky top-0 z-1 bg-black text-white fw-bold border-bottom border-secondary"
                >
                  <p class="fw-bold fs-4 mb-2 paragrafoHover">...</p>
                  <p class="my-1 paragrafoHover">
                    <i class="bi bi-house-door fs-4 me-2"></i>Home
                  </p>
                  <p class="my-1 paragrafoHover" id="cerca">
                    <i class="bi bi-search fs-4 me-2"></i>Cerca
                  </p>
                  <p class="mt-1 mb-4 paragrafoHover">
                    <i class="bi bi-book fs-4 me-2"></i>La tua libreria
                  </p>
                  <p class="my-1 paragrafoHover">
                    <i class="bi bi-plus-lg fs-4 me-2"></i>Crea playlist
                  </p>
                  <p class="my-1 paragrafoHover">
                    <i class="bi bi-heart fs-4 me-2"></i>Brani che ti piacciono
                  </p>
                  <p class="my-1 mb-3 paragrafoHover">
                    <i class="bi bi-bookmark fs-4 me-2"></i>I tuoi episodi
                  </p>
                </div>
                <div id="left-col" class="col-12 bg-black text-white">
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                  <p>ergsrhbsdrb</p>
                </div>
              </div>
            </div>
            <div id="mid-col" class="col-8 text-white bg-secondary">
              <div
                class="col d-flex align-items-center justify-content-between mt-3"
              >
                <div class="d-flex align-items-center">
                  <button
                    type="button"
                    class="btn rounded-circle text-secondary me-3 p-1"
                  >
                    <i class="bi bi-chevron-left fs-5"></i>
                  </button>
                  <button
                    type="button"
                    class="btn rounded-circle text-secondary me-3 p-1"
                  >
                    <i class="bi bi-chevron-right fs-5"></i>
                  </button>
                  <div>
                    <input
                      type="text"
                      class="ms-3 displayNone"
                      id="inputCerca"
                      placeholder="Cerca"
                    />
                  </div>
                </div>
                <div>
                  <div class="flex-shrink-0 dropdown bg-black pe-2">
                    <a
                      href="#"
                      class="text-decoration-none dropdown-toggle me-1 text-white fw-bold"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      <img
                        src="https://github.com/mdo.png"
                        alt="mdo"
                        width="25"
                        height="25"
                        class="rounded-circle me-2"
                      />
                      Lidia jfcehnwi
                    </a>
                    <ul class="dropdown-menu text-small shadow">
                      <li>
                        <a class="dropdown-item" href="#">New project...</a>
                      </li>
                      <li><a class="dropdown-item" href="#">Settings</a></li>
                      <li><a class="dropdown-item" href="#">Profile</a></li>
                      <li><hr class="dropdown-divider" /></li>
                      <li><a class="dropdown-item" href="#">Sign out</a></li>
                    </ul>
                  </div>
                </div>
              </div>
              <!--QUA VA SOSTITUITO CON I TEMPLATE-->
              <div class="col container-fluid">
                <div id="card" class="my-3 text-white">
                  <div class="row">
                    <div class="col-md-3">
                      <img
                        src="assets/imgs/main/image-10.jpg"
                        class="img-fluid ms-4 d-block m-4"
                        width="200px"
                      />
                    </div>
                    <div class="col-md-9">
                      <div class="card-body">
                        <div class="row justify-content-between">
                          <p class="card-text col-3">Album</p>
                          <p class="card-text col-9 text-end text-secondary">
                            Nascondi annunci
                          </p>
                        </div>
                        <h1 class="card-title fw-bold">
                          Titolo fasdfagdsgdsgds
                        </h1>
                        <p class="card-text">contenuto</p>
                        <p class="card-text">contenuto</p>
                        <div class="row align-items-center gap-5">
                          <div class="col-1">
                            <button
                              class="btn btn-success rounded-pill border-none py-2 px-4 fw-bold"
                            >
                              Play
                            </button>
                          </div>
                          <div class="col-1">
                            <button
                              class="btn btn-dark text-white rounded-pill border-light py-2 px-4 fw-bold"
                            >
                              Salva
                            </button>
                          </div>
                          <div class="col-1">
                            <p
                              class="bg-none text-white rounded-pill fw-bold fs-3"
                            >
                              ...
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col">
                <h2 class="mx-2">Buonasera</h2>
                <div class="row mx-2">
                  <div class="col-4">
                    <div class="row g-0 align-items-center text-white mb-3">
                      <div class="col-md-3 me-4">
                        <img
                          src="https://e-cdns-images.dzcdn.net/images/cover/8b8fc5d117f9357b79f0a0a410a170e8/56x56-000000-80-0-0.jpg"
                          class="img-size"
                          alt="..."
                        />
                      </div>
                      <div class="col-md-8">
                        <div class="card-body">
                          <h5 class="card-title fw-bold">Card title</h5>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-4">
                    <div class="row g-0 align-items-center text-white mb-3">
                      <div class="col-md-3 me-4">
                        <img
                          src="https://e-cdns-images.dzcdn.net/images/cover/8b8fc5d117f9357b79f0a0a410a170e8/56x56-000000-80-0-0.jpg"
                          class="img-size"
                          alt="..."
                        />
                      </div>
                      <div class="col-md-8">
                        <div class="card-body">
                          <h5 class="card-title fw-bold">Card title</h5>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-4">
                    <div class="row g-0 align-items-center text-white mb-3">
                      <div class="col-md-3 me-4">
                        <img
                          src="https://e-cdns-images.dzcdn.net/images/cover/8b8fc5d117f9357b79f0a0a410a170e8/56x56-000000-80-0-0.jpg"
                          class="img-size"
                          alt="..."
                        />
                      </div>
                      <div class="col-md-8">
                        <div class="card-body">
                          <h5 class="card-title fw-bold">Card title</h5>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row mx-2">
                  <div class="col-4">
                    <div class="row g-0 align-items-center text-white mb-3">
                      <div class="col-md-3 me-4">
                        <img
                          src="https://e-cdns-images.dzcdn.net/images/cover/8b8fc5d117f9357b79f0a0a410a170e8/56x56-000000-80-0-0.jpg"
                          class="img-size"
                          alt="..."
                        />
                      </div>
                      <div class="col-md-8">
                        <div class="card-body">
                          <h5 class="card-title fw-bold">Card title</h5>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-4">
                    <div class="row g-0 align-items-center text-white mb-3">
                      <div class="col-md-3 me-4">
                        <img
                          src="https://e-cdns-images.dzcdn.net/images/cover/8b8fc5d117f9357b79f0a0a410a170e8/56x56-000000-80-0-0.jpg"
                          class="img-size"
                          alt="..."
                        />
                      </div>
                      <div class="col-md-8">
                        <div class="card-body">
                          <h5 class="card-title fw-bold">Card title</h5>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-4">
                    <div class="row g-0 align-items-center text-white mb-3">
                      <div class="col-md-3 me-4">
                        <img
                          src="https://e-cdns-images.dzcdn.net/images/cover/8b8fc5d117f9357b79f0a0a410a170e8/56x56-000000-80-0-0.jpg"
                          class="img-size"
                          alt="..."
                        />
                      </div>
                      <div class="col-md-8">
                        <div class="card-body">
                          <h5 class="card-title fw-bold">Card title</h5>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="row justify-content-between">
                  <h4 class="col-5 mx-2">Altro di ciò che ti piace</h4>
                  <p class="col-3 text-end">Visualizza tutto</p>
                </div>
                <div class="row justify-content-evenly">
                  <div class="col-2 custom-card p-2 rounded">
                    <div class="card custom-card">
                      <img
                        src="assets/imgs/main/image-11.jpg"
                        class="card-img-top rounded-bottom"
                        alt="..."
                      />
                      <div class="card-body">
                        <h5 class="card-title">Card title</h5>
                        <p class="card-text text-secondary">
                          Some quick example text to build on the card title and
                          make up the bulk of the card's content.
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="col-2 custom-card p-2 rounded">
                    <div class="card custom-card">
                      <img
                        src="assets/imgs/main/image-11.jpg"
                        class="card-img-top rounded-bottom"
                        alt="..."
                      />
                      <div class="card-body">
                        <h5 class="card-title">Card title</h5>
                        <p class="card-text text-secondary">
                          Some quick example text to build on the card title and
                          make up the bulk of the card's content.
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="col-2 custom-card p-2 rounded">
                    <div class="card custom-card">
                      <img
                        src="assets/imgs/main/image-11.jpg"
                        class="card-img-top rounded-bottom"
                        alt="..."
                      />
                      <div class="card-body">
                        <h5 class="card-title">Card title</h5>
                        <p class="card-text text-secondary">
                          Some quick example text to build on the card title and
                          make up the bulk of the card's content.
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="col-2 custom-card p-2 rounded">
                    <div class="card custom-card">
                      <img
                        src="assets/imgs/main/image-11.jpg"
                        class="card-img-top rounded-bottom"
                        alt="..."
                      />
                      <div class="card-body">
                        <h5 class="card-title">Card title</h5>
                        <p class="card-text text-secondary">
                          Some quick example text to build on the card title and
                          make up the bulk of the card's content.
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="col-2 custom-card p-2 rounded">
                    <div class="card custom-card">
                      <img
                        src="assets/imgs/main/image-11.jpg"
                        class="card-img-top rounded-bottom"
                        alt="..."
                      />
                      <div class="card-body">
                        <h5 class="card-title">Card title</h5>
                        <p class="card-text text-secondary">
                          Some quick example text to build on the card title and
                          make up the bulk of the card's content.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-2 bg-black">
              <div id="right-col" class="col text-white">
                <div
                  class="d-flex justify-content-between align-items-center mt-3"
                >
                  <h6 class="pt-2 fw-bold">Attività amici</h6>
                  <div>
                    <i class="bi bi-person-add pe-2 text-secondary fs-5"></i>
                    <i class="bi bi-x-lg me-1 text-secondary fs-5"></i>
                  </div>
                </div>

                <div class="right-card row my-3">
                  <div class="col-3">
                    <img
                      src="./assets/imgs/main/image-1.jpg"
                      width="60px"
                      height="60px"
                      alt=""
                    />
                  </div>
                  <div class="col-6 row-column p-0 ps-3 g-0">
                    <p class="m-0 fw-bold">Charlie Hokham</p>
                    <p class="my-1 fw-bold grey-text-small">
                      In camera. umi zowa
                    </p>
                    <p class="my-1 fw-bold grey-text-small">
                      <i class="bi bi-disc"></i> EP III
                    </p>
                  </div>
                  <div
                    class="col-3 m-0 p-0 text-center grey-text-small align-items-center fw-bold"
                  >
                    <p>8 ore</p>
                  </div>
                </div>

                <div class="right-card row my-3">
                  <div class="col-3">
                    <img
                      src="./assets/imgs/main/image-1.jpg"
                      width="60px"
                      height="60px"
                      alt=""
                    />
                  </div>
                  <div class="col-6 row-column p-0 ps-3 g-0">
                    <p class="m-0 fw-bold">Charlie Hokham</p>
                    <p class="my-1 fw-bold grey-text-small">
                      In camera. umi zowa
                    </p>
                    <p class="my-1 fw-bold grey-text-small">
                      <i class="bi bi-disc"></i> EP III
                    </p>
                  </div>
                  <div
                    class="col-3 m-0 p-0 text-center grey-text-small align-items-center fw-bold"
                  >
                    <p>8 ore</p>
                  </div>
                </div>

                <div class="right-card row my-3">
                  <div class="col-3">
                    <img
                      src="./assets/imgs/main/image-1.jpg"
                      width="60px"
                      height="60px"
                      alt=""
                    />
                  </div>
                  <div class="col-6 row-column p-0 ps-3 g-0">
                    <p class="m-0 fw-bold">Charlie Hokham</p>
                    <p class="my-1 fw-bold grey-text-small">
                      In camera. umi zowa
                    </p>
                    <p class="my-1 fw-bold grey-text-small">
                      <i class="bi bi-disc"></i> EP III
                    </p>
                  </div>
                  <div
                    class="col-3 m-0 p-0 text-center grey-text-small align-items-center fw-bold"
                  >
                    <p>8 ore</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="music-player">
          <div class="song-bar">
            <div class="song-infos">
              <div class="image-container">
                <img src="" alt="" />
              </div>
              <div class="song-description">
                <p class="title"></p>
                <p class="artist">Masaru Yokoyama</p>
              </div>
            </div>
            <div class="icons">
              <i class="bi bi-heart"></i>
            </div>
          </div>
          <div class="progress-controller">
            <audio
              id="song"
              src="./assets/Sigla Dragon Ball 1° serie.mp3"
              type="audio/mpeg"
            ></audio>
            <div class="control-buttons">
              <i class="bi bi-shuffle"></i>
              <i class="bi bi-skip-backward-fill"></i>
              <i
                class="bi bi-play-fill bg-white text-black btn rounded-circle play-pause"
                id="playIcon"
              ></i>
              <i class="bi bi-skip-forward-fill"></i>
              <i class="bi bi-repeat"></i>
            </div>
            <div class="progress-container">
              <span id="progresso">0:00</span>
              <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
              </div>
              <span id="durata">0:00</span>
            </div>
          </div>
          <div class="other-features">
            <i class="bi bi-mic"></i>
            <i class="bi bi-list"></i>
            <i class="bi bi-pc-display"></i>
            <div class="volume-bar">
              <i class="bi bi-volume-up"></i>
              <div class="progress-bar">
                <div class="progress"></div>
              </div>
              <i class="bi bi-arrows-angle-expand"></i>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="./node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      let cerca = document.querySelector("#cerca");

      let inputCerca = document.querySelector("#inputCerca");

      cerca.addEventListener("click", function () {
        // inputCerca.classList.toggle('displayNone')

        if (inputCerca.style.display === "none") {
          inputCerca.style.display = "block";
        } else {
          inputCerca.style.display = "none";
        }
      });

      let player = document.querySelector(".music-player");

      
      let playPause = document.querySelector("#playIcon");
      
      //selettori per player
      let progresso = document.querySelector('#progresso')
      let durata = document.querySelector('#durata')
      let audio = document.querySelector("#song");
      let progressBar = document.querySelector("#progress-bar");

      let suona = false;
      playPause.addEventListener("click", function () {
        if (!suona) {
          song.play();
          let element = document.querySelector(".bi-play-fill"); // Mancava il punto qui
          element.classList.remove("bi-play-fill");
          element.classList.add("bi-pause-fill");
          suona = true;
        } else {
          song.pause();
          let element = document.querySelector(".bi-pause-fill");
          element.classList.remove("bi-pause-fill");
          element.classList.add("bi-play-fill");
          suona = false;
        }
      });
      // tempo totale canzone
      audio.addEventListener('loadedmetadata', function(){
        let durataSec = audio.duration
        let formatDurata = formatTime(durataSec)
        durata.textContent = formatDurata
      })


      function formatTime(timeInSeconds) {
        let minutes = Math.floor(timeInSeconds / 60);
        let seconds = Math.floor(timeInSeconds % 60);
        return minutes + ":" + (seconds < 10 ? "0" : "") + seconds;
    }

    //avanzamento barra
    audio.addEventListener('timeupdate', function() {
    let currentTime = audio.currentTime;
    let formatCurrentTime = formatTime(currentTime);
    progresso.textContent = formatCurrentTime;
    let progressPercent = (currentTime / audio.duration) * 100;
    progressBar.style.width = progressPercent + '%';
});
progressBar.addEventListener('click', function(event){
  var progressBarWidth = this.offsetWidth;
  // Calcola la posizione in cui l'utente ha cliccato
  var clickPosition = event.offsetX;
  // Calcola la percentuale corrispondente alla posizione cliccata
  var clickPercentage = (clickPosition / progressBarWidth);
  console.log(clickPercentage);
  // Imposta il currentTime dell'audio alla percentuale cliccata
  audio.currentTime = clickPercentage * audio.duration;

  // Aggiorna la barra di avanzamento
  updateProgressBar();
});

// Funzione per aggiornare la barra di avanzamento
function updateProgressBar() {
  var currentTimeInSeconds = audio.currentTime;
  var durationInSeconds = audio.duration;
  var progress = (currentTimeInSeconds / durationInSeconds) * 100;
  progressBar.style.width = progress + "%";
}




    </script>
  </body>
</html>
